!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("SignerProvider",[],t):"object"==typeof exports?exports.SignerProvider=t():e.SignerProvider=t()}(this,function(){return function(e){function t(o){if(r[o])return r[o].exports;var n=r[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var r={};return t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,t,r){Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=3)}([function(e,t,r){"use strict";function o(e,t){if(!(this instanceof o))throw Error('[ethjs-provider-signer] the SignerProvider instance requires the "new" flag in order to function normally (e.g. `const eth = new Eth(new SignerProvider(...));`).');if("object"!=typeof t)throw Error("[ethjs-provider-signer] the SignerProvider requires an options object be provided with the 'privateKey' property specified, you provided type "+typeof t+".");if("function"!=typeof t.signTransaction)throw Error("[ethjs-provider-signer] the SignerProvider requires an options object be provided with the 'signTransaction' property specified, you provided type "+typeof t.privateKey+" (e.g. 'const eth = new Eth(new SignerProvider(\"http://ropsten.infura.io\", { privateKey: (account, cb) => cb(null, 'some private key') }));').");var r=this;r.options=t,r.timeout=t.timeout||0,r.provider=new n(e,r.timeout)}var n=r(1);e.exports=o,o.prototype.sendAsync=function(e,t){var r=this;"eth_sendTransaction"===e.method?r.options.signTransaction(e.params[0],function(o,n){if(o)return t(Error("[ethjs-provider-signer] while signing your sendTransaction payload: "+JSON.stringify(o)),null);var i=Object.assign({},{id:e.id,jsonrpc:e.jsonrpc,method:"eth_sendRawTransaction",params:[n]});r.provider.sendAsync(i,t)}):r.provider.sendAsync(e,t)}},function(e,t,r){"use strict";function o(e,t){var r=e&&e.error&&e.error.message?"[ethjs-provider-http] "+e.error.message:"[ethjs-provider-http] Invalid JSON RPC response from host provider "+t+": "+JSON.stringify(e,null,2);return Error(r)}function n(e,t){if(!(this instanceof n))throw Error('[ethjs-provider-http] the HttpProvider instance requires the "new" flag in order to function normally (e.g. `const eth = new Eth(new HttpProvider());`).');if("string"!=typeof e)throw Error('[ethjs-provider-http] the HttpProvider instance requires that the host be specified (e.g. `new HttpProvider("http://localhost:8545")` or via service like infura `new HttpProvider("http://ropsten.infura.io")`)');var r=this;r.host=e,r.timeout=t||0}var i=r(2);n.prototype.sendAsync=function(e,t){var r=this,n=new i;n.timeout=r.timeout,n.open("POST",r.host,!0),n.setRequestHeader("Content-Type","application/json"),n.onreadystatechange=function(){if(4===n.readyState&&1!==n.timeout){var e=n.responseText,i=null;try{e=JSON.parse(e)}catch(s){i=o(n.responseText,r.host)}t(i,e)}},n.ontimeout=function(){t("[ethjs-provider-http] CONNECTION TIMEOUT: http request timeout after "+r.timeout+" ms. (i.e. your connect has timed out for whatever reason, check your provider).",null)};try{n.send(JSON.stringify(e))}catch(s){t("[ethjs-provider-http] CONNECTION ERROR: Couldn't connect to node '"+r.host+"': "+JSON.stringify(s,null,2),null)}},e.exports=n},function(e,t){e.exports=XMLHttpRequest},function(e,t,r){e.exports=r(0)}])});